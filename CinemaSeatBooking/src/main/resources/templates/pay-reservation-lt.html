<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Kino teatro rezervacija</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link th:href="@{/css/style.css}" rel="stylesheet" type="text/css"/>
<script th:src="@{/js/jquery-1.4.2.min.js}" type="text/javascript"></script>
<script th:src="@{/js/script.js}" type="text/javascript"></script>
<script th:src="@{/scripts.js}" type="text/javascript"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Limelight&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<!--[if lt IE 7]>
<script type="text/javascript" src="js/ie_png.js"></script>
<script type="text/javascript">ie_png.fix('.png, .link1 span, .link1');</script>
<link href="css/ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->
</head>
<body id="page5">
<!-- START PAGE SOURCE -->
<div class="tail-top">
  <div class="tail-bottom">
    <div id="main">
      <div id="header">
        <div class="row-1">
          <div class="fleft"><a href="#">Kino teatro <span>rezervacija</span></a></div>
               <div>
    <button id="logoutBtn">Atsijungti</button>
    </div>
    <div>
          <ul>
            <li><a href="#"><img src="images/icon1.gif" alt="" /></a></li>
            <li><a href="#"><img src="images/icon2.gif" alt="" /></a></li>
            <li><a href="#"><img src="images/icon3.gif" alt="" /></a></li>
            <li><a href="/payments-lt/{reservationId}"><img src="images/world.png" style="height:13px; width: 13px;" alt="" /></a></li>
            <li><a href="/payments/{reservationId}"><img src="images/united-kingdom.png" style="height:13px; width: 13px;" alt="" /></a></li>    
          </ul>
          
        </div>
           
<script>
document.getElementById('logoutBtn').onclick = async function() {
    const response = await fetch('/login/logout', { method: 'POST' });
    if (response.ok) {
        window.location.href = '/'; 
    }
};
</script>
        </div>
        <div class="row-2">
                 <ul>
            <li><a th:href="@{/home-lt}">Pradinis</a></li>
            <li><a th:href="@{/screenings-lt}">Repertuaras</a></li>
            <li><a th:href="@{/articles-lt}" >Straipsniai</a></li>
            <li><a th:href="@{/contact-lt}">Kontaktai</a></li>
            <li class="last"><a th:href="@{/rooms-lt}" class="active">Kambariai</a></li>
        </div>
      </div>
      <div id="content">
        <div class="line-hor"></div>
        <div class="box">
          <div class="border-right">
            <div class="border-left">
              <div class="inner">
                <h3><span>Susimokėkite</span> už Jūsų rezervaciją</h3>
                <div class="address">
                  <p><strong>Filmo pavadinimas:</strong> <span th:text="${reservation.screening.movie.title}">Filmo pavadinimas</span></p>
                  <p><strong>Kur?</strong> <span th:text="${reservation.screening.location}">Lokacija</span></p>
                  <p><strong>Kada?</strong> <span th:text="${reservation.screening.date}">Data</span></p>
                  <p><strong>Jūsų vieta:</strong> <span th:text="${reservation.screening.room.name}">Kambarys</span><span> Vieta </span><span th:text="${reservation.seat.seatNumber}">Vieta</span></p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="content">
          <h3>Mokėjimo <span>detalės</span></h3>
          <form class="pay-reservation" id="payment-form" th:action="@{/payments/process}" method="post">
              <!-- ID de la reserva -->
              <input type="hidden" name="reservationId" th:value="${reservation.id}" />

              <!-- Monto fijo -->
              <input type="hidden" name="amount" value="10" />

              <div class="field">
                <label>Mokėjimo metodas:</label>
                <select name="paymentMethod" required>
                  <option value="">Pasirinkti</option>
                  <option value="CREDIT_CARD">Kreditinė kortelė</option>
                  <option value="DEBIT_CARD">Debito kortelė</option>
                  <option value="PAYPAL">PayPal</option>
                </select>
              </div>

              <div class="field">
                <label>Kortelės numeris:</label>
                <input type="number" name="cardNumber" required />
              </div>

              <div class="field">
                <label>Galiojimo Data:</label>
                <input type="text" name="expiryDate" placeholder="MM/YY" required />
              </div>

              <div class="field">
                <label>CVC:</label>
                <input type="number" name="cvc" required />
              </div>

              <div class="wrapper">
                <button type="submit" class="pay-button">
                  <span>Mokėti €10</span>
                </button>
              </div>
          </form>
        </div>
      </div>
      <div id="footer">
        <div class="left">
          <div class="right">
            <div class="footerlink">
                <p class="lf">Autorių teisės &copy; 2025 <a href="#">SiteName</a> - Visos teisės rezervuotos</p>
                <p class="rf">Sukurta su <a href="http://www.templatemonster.com/">TemplateMonster</a></p>
                <div style="clear:both;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript"> Cufon.now(); </script>
<!-- END PAGE SOURCE -->
</body>
</html>
