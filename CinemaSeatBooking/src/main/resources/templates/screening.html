<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Screenings</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css"/>
    <script th:src="@{/js/jquery-1.4.2.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/script.js}" type="text/javascript"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Limelight&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body id="page3">
    <div class="tail-top">
        <div class="tail-bottom">
          <div id="main">
            <div id="header">
              <div class="row-1">
                <div class="fleft"><a href="#">Cinema Seat <span>Booking</span></a></div>
                <div>
    <button id="logoutBtn">Logout</button>
    </div>
    <div>
                <ul>
                  <li><a href="#"><img src="images/icon1.gif" alt="" /></a></li>
                  <li><a href="#"><img src="images/icon2.gif" alt="" /></a></li>
                  <li><a href="#"><img src="images/icon3.gif" alt="" /></a></li>
                  <li><a href="/screenings-lt"><img src="images/world.png" style="height:13px; width: 13px;" alt="" /></a></li>
                  <li><a href="/screenings"><img src="images/united-kingdom.png" style="height:13px; width: 13px;" alt="" /></a></li> 
                </ul>
                
        </div>
           
<script>
document.getElementById('logoutBtn').onclick = async function() {
    const response = await fetch('/login/logout', { method: 'POST' });
    if (response.ok) {
        window.location.href = '/'; 
    }
};
</script>
              </div>
              <div class="row-2">
                <ul>
                  <li><a th:href="@{/home}">Home</a></li>
                  <li><a th:href="@{/screenings}" class="active">Screenings</a></li>
                  <li><a th:href="@{/myreservations}">My Reservations</a></li>
                  <li class="last"><a th:href="@{/rooms}">Rooms</a></li>
                </ul>
              </div>
            </div>
      
            <div id="content">
              <div class="line-hor"></div>
              <div class="box">
                <div class="border-right">
                  <div class="border-left">
                    <div class="inner">
                      <h3>Available <span>Screenings</span></h3>
      
                      <div th:if="${!#lists.isEmpty(screenings)}">
                        <div style="display: flex; flex-wrap: wrap; gap: 20px;">
                          <div th:each="s : ${screenings}" style="flex: 0 0 calc(100%); border: 1px solid #ccc; border-radius: 10px; padding: 20px; box-sizing: border-box;">
                            <div style="display: flex; align-items: center; gap: 50px;">
                              <div style="margin-right: 20px;">
                                <img src="images/banner-img.png" alt="" style="width: 250px; height: auto; border-radius: 10px;"/>
                              </div>
                              <div>
                                <h4 th:text="${s.movie.title}">Movie Title</h4>
                                <p><strong>Location:</strong> <span th:text="${s.location}">Location</span></p>
                                <p><strong>Date:</strong> <span th:text="${s.date}">YYYY-MM-DD</span></p>
                                <p><strong>Room:</strong> <span th:text="${s.room.name}">Room Name</span></p>
                                <form th:action="@{'/screenings/' + ${s.id}}" method="get">
                                  <button type="submit" class="button">Make Reservation</button>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
      
                      <p th:if="${#lists.isEmpty(screenings)}">
                        No screenings available.
                      </p>
      
                    </div>
                  </div>
                </div>
              </div>
            </div>
      
            <div id="footer">
              <div class="left">
                <div class="right">
                  <div class="footerlink">
                    <p class="lf">Copyright &copy; 2025 <a href="#">SiteName</a> - All Rights Reserved</p>
                    <p class="rf">Design by <a href="http://www.templatemonster.com/">TemplateMonster</a></p>
                    <div style="clear:both;"></div>
                  </div>
                </div>
              </div>
            </div>
      
          </div>
        </div>
      </div>
      
      <script type="text/javascript"> Cufon.now(); </script>
</body>
</html>
